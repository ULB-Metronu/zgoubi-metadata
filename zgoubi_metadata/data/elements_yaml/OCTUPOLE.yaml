zgoubi_name: OCTUPOLE
params:
  IL: {type: I, default: 0, doc: ""}
  XL: {type: E, unit: "cm", default: 0, doc: "Length of the element"}
  R0: {type: E, unit: "cm", default: 1, doc: "Radius of the element"}
  B0: {type: E, unit: "kilogauss", default: 0, doc: "Field at pole tip of the element"}
  X_E: {type: E, unit: "cm", default: 0, doc: "Entrance face integration zone"}
  LAM_E: {type: E, unit: "cm", default: 0, doc: "Entrance face fringe field extent"}
  NCE: {type: I, default: 0, doc: "UNUSED"}
  CE_0: {type: E, default: 0, doc: "Fringe field coefficient C0"}
  CE_1: {type: E, default: 1, doc: "Fringe field coefficient C1"}
  CE_2: {type: E, default: 0, doc: "Fringe field coefficient C2"}
  CE_3: {type: E, default: 0, doc: "Fringe field coefficient C3"}
  CE_4: {type: E, default: 0, doc: "Fringe field coefficient C4"}
  CE_5: {type: E, default: 0, doc: "Fringe field coefficient C5"}
  X_S: {type: E, unit: "cm", default: 0, doc: "Exit face integration zone"}
  LAM_S: {type: E, unit: "cm", default: 0, doc: "Exit face fringe field extent"}
  NCS: {type: I, default: 0, doc: "UNUSED"}
  CS_0: {type: E, default: 0, doc: "Fringe field coefficient C0"}
  CS_1: {type: E, default: 1 doc: "Fringe field coefficient C1"}
  CS_2: {type: E, default: 0, doc: "Fringe field coefficient C2"}
  CS_3: {type: E, default: 0, doc: "Fringe field coefficient C3"}
  CS_4: {type: E, default: 0, doc: "Fringe field coefficient C4"}
  CS_5: {type: E, default: 0, doc: "Fringe field coefficient C5"}
  XPAS: {type: E, unit: 'mm', default: 1, doc: "Integration step"}
  KPOS: {type: I, default: 0, doc: ""}
  XCE: {type: E, unit: "", default: 0, doc: ""}
  YCE: {type: E, unit: "", default: 0, doc: ""}
  ALE: {type: E, unit: "", default: 0, doc: ""}
template:
- - IL
- - XL
  - R0
  - B0
- - X_E
  - LAM_E
- - NCE
  - CE_0
  - CE_1
  - CE_2
  - CE_3
  - CE_4
  - CE_5
- - X_S
  - LAM_S
- - NCS
  - CS_0
  - CS_1
  - CS_2
  - CS_3
  - CS_4
  - CS_5
- - XPAS
- - KPOS
  - XCE
  - YCE
  - ALE

doc: |
  Octupole magnet

  .. rubric:: Zgoubi manual description

  The meaning of parameters for OCTUPOLE is the same as for QUADRUPO. In fringe field regions the
  magnetic field ~B (X, Y,Z) and its derivatives up to fourth order are derived from the scalar potential approximated
  to the 8-th order in Y and Z

  The modelling of the fringe field form factor G(X) is described under QUADRUPO, p. 128.
  Outside fringe field regions, or everywhere in sharp edge dodecapole (λE = λS = 0) , ~B(X, Y,Z) in the
  magnet is given by
  BX = 0
  BY = G0(3Y 2 − Z2)Z
  BZ = G0(Y 2 − 3Z2) Y
